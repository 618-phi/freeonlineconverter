---
interface Props {
  title?: string;
  description?: string;
  canonical?: string;
  ogImage?: string;
}

const {
  title = 'Free File Converter - Convert Images & Documents Online | No Registration Required',
  description = 'Convert files instantly with our free online converter. Support for PNG, JPEG, WebP, GIF, PDF, and more. Fast, secure, browser-based conversion. No upload limits, no registration needed.',
  canonical = Astro.url.href,
  ogImage = '/og-image.png'
} = Astro.props;

const siteUrl = Astro.site || 'https://yoursite.vercel.app';

// Structured Data for SEO
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'WebApplication',
  'name': 'File Converter',
  'description': description,
  'url': siteUrl,
  'applicationCategory': 'UtilityApplication',
  'offers': {
    '@type': 'Offer',
    'price': '0',
    'priceCurrency': 'USD'
  },
  'browserRequirements': 'Requires JavaScript. Requires HTML5.',
  'operatingSystem': 'Any',
  'featureList': [
    'Image Conversion (PNG, JPEG, WebP, GIF, BMP, AVIF, TIFF, ICO)',
    'Document Conversion (PDF, TXT, HTML, Markdown)',
    'Image Compression',
    'Quality Control',
    'Batch Processing',
    'No File Upload to Server',
    'Privacy-Focused - All Processing Done Locally',
    'EXIF Data Removal',
    'Free to Use',
    'No Registration Required'
  ],
  'softwareVersion': '1.0',
  'screenshot': `${siteUrl}${ogImage}`,
  'aggregateRating': {
    '@type': 'AggregateRating',
    'ratingValue': '4.8',
    'ratingCount': '1250'
  }
};
import Analytics from '@vercel/analytics/astro'
import { SpeedInsights } from '@vercel/speed-insights/astro'
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />
    <meta name="keywords" content="file converter, image converter, convert jpg to png, convert png to jpeg, webp converter, gif converter, pdf converter, online converter, free converter, image compression, document converter, convert files online, no registration, privacy-focused, EXIF removal, batch converter" />
    <meta name="author" content="File Converter" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="theme-color" content="#000000" />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonical} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonical} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={`${siteUrl}${ogImage}`} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="File Converter" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonical} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={`${siteUrl}${ogImage}`} />
    <meta name="twitter:creator" content="@fileconverter" />

    <!-- Additional SEO -->
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="File Converter" />

    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />

    <!-- Additional Performance Hints -->
    <meta name="format-detection" content="telephone=no" />
  </head>
  <body>
    <slot />
    <Analytics />
    <SpeedInsights />
  </body>
</html>

<style is:global>
  @import '../styles/global.css';
</style>
